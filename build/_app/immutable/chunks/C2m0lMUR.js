import{s as yt,D as je,E as Le,a as O,d as m,f as h,i as P,g as E,n as ue,y as Et,A as Ct,j as de,p as It,F as Tt,q as Mt,k as U,o as H,C as Ue,e as M,c as $,r as $t,v as Nt,w as zt,x as Pt,P as Ee,t as Y,b as G,h as R,B as He,u as ne,H as Be,S as De,V as qe}from"./vexCXLX9.js";import{S as Dt,i as Vt,f as Ot,b as K,d as Q,m as X,t as z,a as A,e as x,g as oe,c as se}from"./Cdll-xsj.js";import{e as ie}from"./DNXpXRYa.js";import"./CyFe254w.js";import{M as St,a as Bt,b as At}from"./CgO5y2dz.js";import{m as Ze}from"./_0_gBwjO.js";import{F as jt}from"./CU2r43ac.js";import{f as Lt}from"./g5t9vw8M.js";import{C as Ut}from"./Cux5bsOp.js";import{C as Ht}from"./BfKRbBRz.js";import{S as qt}from"./DjtyHjFA.js";import{g as Zt,p as Wt,d as Ft}from"./CyhnT3hM.js";import{M as we,a as Yt,c as Gt,j as Rt,t as Jt,u as Kt,o as We,m as Qt,n as Xt}from"./DzLIgThl.js";import{t as me}from"./DMk2eJ1b.js";import{s as xt,h as Fe}from"./hvQ-lebT.js";import{g as el}from"./CP68AaU9.js";import{T as he}from"./DzHlmjPS.js";import{S as tl}from"./DBcgpmMt.js";import{g as ll}from"./WDSA219a.js";function rl(r){let e,t;return{c(){e=je("svg"),t=je("path"),this.h()},l(l){e=Le(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=O(e);t=Le(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),O(t).forEach(m),a.forEach(m),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"stroke-width",r[1]),h(e,"stroke","currentColor"),h(e,"class",r[0])},m(l,a){P(l,e,a),E(e,t)},p(l,[a]){a&2&&h(e,"stroke-width",l[1]),a&1&&h(e,"class",l[0])},i:ue,o:ue,d(l){l&&m(e)}}}function al(r,e,t){let{className:l="size-4"}=e,{strokeWidth:a="1.5"}=e;return r.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,a=n.strokeWidth)},[l,a]}class nl extends Dt{constructor(e){super(),Vt(this,e,al,rl,yt,{className:0,strokeWidth:1})}}function Ye(r,e,t){const l=r.slice();return l[49]=e[t],l}function Ge(r,e,t){const l=r.slice();return l[52]=e[t],l[54]=t,l}function Re(r,e,t){const l=r.slice();return l[55]=e[t],l}function Je(r,e,t){const l=r.slice();return l[55]=e[t],l}function Ke(r,e,t){const l=r.slice();return l[55]=e[t],l}function ol(r){let e;return{c(){e=Y(r[2])},l(t){e=G(t,r[2])},m(t,l){P(t,e,l)},p(t,l){l[0]&4&&R(e,t[2])},d(t){t&&m(e)}}}function sl(r){let e=r[15].label+"",t;return{c(){t=Y(e)},l(l){t=G(l,e)},m(l,a){P(l,t,a)},p(l,a){a[0]&32768&&e!==(e=l[15].label+"")&&R(t,e)},d(l){l&&m(t)}}}function il(r){let e,t,l,a,n;function s(f,u){return f[15]?sl:ol}let i=s(r),o=i(r);return l=new Ut({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=M("div"),o.c(),t=U(),K(l.$$.fragment),this.h()},l(f){e=$(f,"DIV",{class:!0});var u=O(e);o.l(u),t=H(u),Q(l.$$.fragment,u),u.forEach(m),this.h()},h(){h(e,"class",a="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+r[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(f,u){P(f,e,u),o.m(e,null),E(e,t),X(l,e,null),n=!0},p(f,u){i===(i=s(f))&&o?o.p(f,u):(o.d(1),o=i(f),o&&(o.c(),o.m(e,t))),(!n||u[0]&256&&a!==(a="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+f[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&h(e,"class",a)},i(f){n||(z(l.$$.fragment,f),n=!0)},o(f){A(l.$$.fragment,f),n=!1},d(f){f&&m(e),o.d(),x(l)}}}function Qe(r){let e,t,l,a,n,s,i;return t=new qt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=M("div"),K(t.$$.fragment),l=U(),a=M("input"),this.h()},l(o){e=$(o,"DIV",{class:!0});var f=O(e);Q(t.$$.fragment,f),l=H(f),a=$(f,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),f.forEach(m),this.h()},h(){h(a,"id","model-search-input"),h(a,"class","w-full text-sm bg-transparent outline-hidden"),h(a,"placeholder",r[4]),h(a,"autocomplete","off"),h(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(o,f){P(o,e,f),X(t,e,null),E(e,l),E(e,a),He(a,r[9]),n=!0,s||(i=[ne(a,"input",r[30]),ne(a,"keydown",r[31])],s=!0)},p(o,f){(!n||f[0]&16)&&h(a,"placeholder",o[4]),f[0]&512&&a.value!==o[9]&&He(a,o[9])},i(o){n||(z(t.$$.fragment,o),n=!0)},o(o){A(t.$$.fragment,o),n=!1},d(o){o&&m(e),x(t),s=!1,Be(i)}}}function Xe(r){let e,t,l,a=r[20].t("All")+"",n,s,i,o=r[6].find(gt)&&r[6].find(vt),f,u=r[6].find(pt),b,C,w,_=o&&xe(r),k=u&&et(r),y=ie(r[14]),g=[];for(let D=0;D<y.length;D+=1)g[D]=tt(Ke(r,y,D));return{c(){e=M("div"),t=M("div"),l=M("button"),n=Y(a),i=U(),_&&_.c(),f=U(),k&&k.c(),b=U();for(let D=0;D<g.length;D+=1)g[D].c();this.h()},l(D){e=$(D,"DIV",{class:!0});var V=O(e);t=$(V,"DIV",{class:!0});var v=O(t);l=$(v,"BUTTON",{class:!0});var S=O(l);n=G(S,a),S.forEach(m),i=H(v),_&&_.l(v),f=H(v),k&&k.l(v),b=H(v);for(let B=0;B<g.length;B+=1)g[B].l(v);v.forEach(m),V.forEach(m),this.h()},h(){h(l,"class",s="min-w-fit outline-none p-1.5 "+(r[10]===""&&r[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),h(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),h(e,"class","flex w-full sticky top-0 z-10 bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m(D,V){P(D,e,V),E(e,t),E(t,l),E(l,n),E(t,i),_&&_.m(t,null),E(t,f),k&&k.m(t,null),E(t,b);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(t,null);r[37](t),C||(w=[ne(l,"click",r[32]),ne(e,"wheel",Pl)],C=!0)},p(D,V){if(V[0]&1048576&&a!==(a=D[20].t("All")+"")&&R(n,a),V[0]&3072&&s!==(s="min-w-fit outline-none p-1.5 "+(D[10]===""&&D[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(l,"class",s),V[0]&64&&(o=D[6].find(gt)&&D[6].find(vt)),o?_?_.p(D,V):(_=xe(D),_.c(),_.m(t,f)):_&&(_.d(1),_=null),V[0]&64&&(u=D[6].find(pt)),u?k?k.p(D,V):(k=et(D),k.c(),k.m(t,b)):k&&(k.d(1),k=null),V[0]&19456){y=ie(D[14]);let v;for(v=0;v<y.length;v+=1){const S=Ke(D,y,v);g[v]?g[v].p(S,V):(g[v]=tt(S),g[v].c(),g[v].m(t,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=y.length}},d(D){D&&m(e),_&&_.d(),k&&k.d(),Ee(g,D),r[37](null),C=!1,Be(w)}}}function xe(r){let e,t=r[20].t("Local")+"",l,a,n,s,i=r[20].t("External")+"",o,f,u,b;return{c(){e=M("button"),l=Y(t),n=U(),s=M("button"),o=Y(i),this.h()},l(C){e=$(C,"BUTTON",{class:!0});var w=O(e);l=G(w,t),w.forEach(m),n=H(C),s=$(C,"BUTTON",{class:!0});var _=O(s);o=G(_,i),_.forEach(m),this.h()},h(){h(e,"class",a="min-w-fit outline-none p-1.5 "+(r[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),h(s,"class",f="min-w-fit outline-none p-1.5 "+(r[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(C,w){P(C,e,w),E(e,l),P(C,n,w),P(C,s,w),E(s,o),u||(b=[ne(e,"click",r[33]),ne(s,"click",r[34])],u=!0)},p(C,w){w[0]&1048576&&t!==(t=C[20].t("Local")+"")&&R(l,t),w[0]&2048&&a!==(a="min-w-fit outline-none p-1.5 "+(C[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",a),w[0]&1048576&&i!==(i=C[20].t("External")+"")&&R(o,i),w[0]&2048&&f!==(f="min-w-fit outline-none p-1.5 "+(C[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(s,"class",f)},d(C){C&&(m(e),m(n),m(s)),u=!1,Be(b)}}}function et(r){let e,t=r[20].t("Direct")+"",l,a,n,s;return{c(){e=M("button"),l=Y(t),this.h()},l(i){e=$(i,"BUTTON",{class:!0});var o=O(e);l=G(o,t),o.forEach(m),this.h()},h(){h(e,"class",a="min-w-fit outline-none p-1.5 "+(r[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(i,o){P(i,e,o),E(e,l),n||(s=ne(e,"click",r[35]),n=!0)},p(i,o){o[0]&1048576&&t!==(t=i[20].t("Direct")+"")&&R(l,t),o[0]&2048&&a!==(a="min-w-fit outline-none p-1.5 "+(i[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",a)},d(i){i&&m(e),n=!1,s()}}}function tt(r){let e,t=r[55]+"",l,a,n,s,i;function o(){return r[36](r[55])}return{c(){e=M("button"),l=Y(t),a=U(),this.h()},l(f){e=$(f,"BUTTON",{class:!0});var u=O(e);l=G(u,t),a=H(u),u.forEach(m),this.h()},h(){h(e,"class",n="min-w-fit outline-none p-1.5 "+(r[10]===r[55]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(f,u){P(f,e,u),E(e,l),E(e,a),s||(i=ne(e,"click",o),s=!0)},p(f,u){r=f,u[0]&16384&&t!==(t=r[55]+"")&&R(l,t),u[0]&17408&&n!==(n="min-w-fit outline-none p-1.5 "+(r[10]===r[55]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",n)},d(f){f&&m(e),s=!1,i()}}}function lt(r){let e,t,l=r[20].t("No results found")+"",a;return{c(){e=M("div"),t=M("div"),a=Y(l),this.h()},l(n){e=$(n,"DIV",{});var s=O(e);t=$(s,"DIV",{class:!0});var i=O(t);a=G(i,l),i.forEach(m),s.forEach(m),this.h()},h(){h(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(n,s){P(n,e,s),E(e,t),E(t,a)},p(n,s){s[0]&1048576&&l!==(l=n[20].t("No results found")+"")&&R(a,l)},d(n){n&&m(e)}}}function rt(r){var a;let e,t=ie((a=r[52].model)==null?void 0:a.tags.sort(wt)),l=[];for(let n=0;n<t.length;n+=1)l[n]=at(Je(r,t,n));return{c(){e=M("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=$(n,"DIV",{class:!0});var s=O(e);for(let i=0;i<l.length;i+=1)l[i].l(s);s.forEach(m),this.h()},h(){h(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(n,s){P(n,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(n,s){var i;if(s[0]&4456448){t=ie((i=n[52].model)==null?void 0:i.tags.sort(wt));let o;for(o=0;o<t.length;o+=1){const f=Je(n,t,o);l[o]?l[o].p(f,s):(l[o]=at(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&m(e),Ee(l,n)}}}function fl(r){let e=r[55].name+"",t;return{c(){t=Y(e)},l(l){t=G(l,e)},m(l,a){P(l,t,a)},p(l,a){a[0]&262144&&e!==(e=l[55].name+"")&&R(t,e)},d(l){l&&m(t)}}}function ul(r){let e="",t;return{c(){t=Y(e)},l(l){t=G(l,e)},m(l,a){P(l,t,a)},p:ue,d(l){l&&m(t)}}}function cl(r){let e="",t;return{c(){t=Y(e)},l(l){t=G(l,e)},m(l,a){P(l,t,a)},p:ue,d(l){l&&m(t)}}}function at(r){let e,t,l,a;function n(o,f){return f[0]&4456448&&(t=null),f[0]&4456448&&(l=null),t==null&&(t=!!(o[22].cost<1&&o[52].model.tags.some(Nl))),t?cl:(l==null&&(l=!!(o[22].cost>1&&o[22].is_user_subscription_valid==!0&&o[52].model.tags.some(zl))),l?ul:fl)}let s=n(r,[-1,-1]),i=s(r);return{c(){e=M("div"),i.c(),a=U(),this.h()},l(o){e=$(o,"DIV",{class:!0});var f=O(e);i.l(f),a=H(f),f.forEach(m),this.h()},h(){h(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(o,f){P(o,e,f),i.m(e,null),E(e,a)},p(o,f){s===(s=n(o,f))&&i?i.p(o,f):(i.d(1),i=s(o),i&&(i.c(),i.m(e,a)))},d(o){o&&m(e),i.d()}}}function nt(r){var a,n,s,i,o,f;let e,t,l;return t=new he({props:{content:`${(n=(a=r[52].model.ollama)==null?void 0:a.details)!=null&&n.quantization_level?((i=(s=r[52].model.ollama)==null?void 0:s.details)==null?void 0:i.quantization_level)+" ":""}${(o=r[52].model.ollama)!=null&&o.size?`(${(((f=r[52].model.ollama)==null?void 0:f.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[dl]},$$scope:{ctx:r}}}),{c(){e=M("div"),K(t.$$.fragment),this.h()},l(u){e=$(u,"DIV",{class:!0});var b=O(e);Q(t.$$.fragment,b),b.forEach(m),this.h()},h(){h(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(u,b){P(u,e,b),X(t,e,null),l=!0},p(u,b){var w,_,k,y,g,D;const C={};b[0]&262144&&(C.content=`${(_=(w=u[52].model.ollama)==null?void 0:w.details)!=null&&_.quantization_level?((y=(k=u[52].model.ollama)==null?void 0:k.details)==null?void 0:y.quantization_level)+" ":""}${(g=u[52].model.ollama)!=null&&g.size?`(${(((D=u[52].model.ollama)==null?void 0:D.size)/1024**3).toFixed(1)}GB)`:""}`),b[0]&262144|b[1]&8192&&(C.$$scope={dirty:b,ctx:u}),t.$set(C)},i(u){l||(z(t.$$.fragment,u),l=!0)},o(u){A(t.$$.fragment,u),l=!1},d(u){u&&m(e),x(t)}}}function dl(r){var a,n;let e,t=(((n=(a=r[52].model.ollama)==null?void 0:a.details)==null?void 0:n.parameter_size)??"")+"",l;return{c(){e=M("span"),l=Y(t),this.h()},l(s){e=$(s,"SPAN",{class:!0});var i=O(e);l=G(i,t),i.forEach(m),this.h()},h(){h(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(s,i){P(s,e,i),E(e,l)},p(s,i){var o,f;i[0]&262144&&t!==(t=(((f=(o=s[52].model.ollama)==null?void 0:o.details)==null?void 0:f.parameter_size)??"")+"")&&R(l,t)},d(s){s&&m(e)}}}function ml(r){var b,C;let e,t,l,a,n,s=r[52].label+"",i,o,f,u=r[52].model.owned_by==="ollama"&&(((C=(b=r[52].model.ollama)==null?void 0:b.details)==null?void 0:C.parameter_size)??"")!==""&&nt(r);return{c(){e=M("img"),l=U(),a=M("div"),n=M("div"),i=Y(s),o=U(),u&&u.c(),this.h()},l(w){e=$(w,"IMG",{src:!0,alt:!0,class:!0}),l=H(w),a=$(w,"DIV",{class:!0});var _=O(a);n=$(_,"DIV",{class:!0});var k=O(n);i=G(k,s),k.forEach(m),o=H(_),u&&u.l(_),_.forEach(m),this.h()},h(){var w,_,k;qe(e.src,t=((k=(_=(w=r[52].model)==null?void 0:w.info)==null?void 0:_.meta)==null?void 0:k.profile_image_url)??"/static/favicon.png")||h(e,"src",t),h(e,"alt","Model"),h(e,"class","rounded-full size-5 flex items-center mr-2"),h(n,"class","line-clamp-1"),h(a,"class","flex items-center line-clamp-1")},m(w,_){P(w,e,_),P(w,l,_),P(w,a,_),E(a,n),E(n,i),E(a,o),u&&u.m(a,null),f=!0},p(w,_){var k,y,g,D,V;(!f||_[0]&262144&&!qe(e.src,t=((g=(y=(k=w[52].model)==null?void 0:k.info)==null?void 0:y.meta)==null?void 0:g.profile_image_url)??"/static/favicon.png"))&&h(e,"src",t),(!f||_[0]&262144)&&s!==(s=w[52].label+"")&&R(i,s),w[52].model.owned_by==="ollama"&&(((V=(D=w[52].model.ollama)==null?void 0:D.details)==null?void 0:V.parameter_size)??"")!==""?u?(u.p(w,_),_[0]&262144&&z(u,1)):(u=nt(w),u.c(),z(u,1),u.m(a,null)):u&&(oe(),A(u,1,1,()=>{u=null}),se())},i(w){f||(z(u),f=!0)},o(w){A(u),f=!1},d(w){w&&(m(e),m(l),m(a)),u&&u.d()}}}function hl(r){let e,t;return e=new he({props:{content:"External",$$slots:{default:[pl]},$$scope:{ctx:r}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){X(e,l,a),t=!0},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function _l(r){let e,t;return e=new he({props:{content:"Direct",$$slots:{default:[gl]},$$scope:{ctx:r}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){X(e,l,a),t=!0},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function pl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(l){e=$(l,"DIV",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,a){P(l,e,a)},p:ue,d(l){l&&m(e)}}}function gl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(l){e=$(l,"DIV",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,a){P(l,e,a)},p:ue,d(l){l&&m(e)}}}function ot(r){var l,a,n;let e,t;return e=new he({props:{content:`${Ze.parse(Fe((n=(a=(l=r[52].model)==null?void 0:l.info)==null?void 0:a.meta)==null?void 0:n.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[vl]},$$scope:{ctx:r}}}),{c(){K(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){X(e,s,i),t=!0},p(s,i){var f,u,b;const o={};i[0]&262144&&(o.content=`${Ze.parse(Fe((b=(u=(f=s[52].model)==null?void 0:f.info)==null?void 0:u.meta)==null?void 0:b.description).replaceAll(`
`,"<br>"))}`),i[1]&8192&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(z(e.$$.fragment,s),t=!0)},o(s){A(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function vl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(l){e=$(l,"DIV",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,a){P(l,e,a)},p:ue,d(l){l&&m(e)}}}function st(r){var s;let e,t,l=ie((s=r[52].model)==null?void 0:s.tags.sort(kt)),a=[];for(let i=0;i<l.length;i+=1)a[i]=it(Re(r,l,i));const n=i=>A(a[i],1,1,()=>{a[i]=null});return{c(){e=M("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=$(i,"DIV",{class:!0});var o=O(e);for(let f=0;f<a.length;f+=1)a[f].l(o);o.forEach(m),this.h()},h(){h(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(i,o){P(i,e,o);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);t=!0},p(i,o){var f;if(o[0]&4456448){l=ie((f=i[52].model)==null?void 0:f.tags.sort(kt));let u;for(u=0;u<l.length;u+=1){const b=Re(i,l,u);a[u]?(a[u].p(b,o),z(a[u],1)):(a[u]=it(b),a[u].c(),z(a[u],1),a[u].m(e,null))}for(oe(),u=l.length;u<a.length;u+=1)n(u);se()}},i(i){if(!t){for(let o=0;o<l.length;o+=1)z(a[o]);t=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)A(a[o]);t=!1},d(i){i&&m(e),Ee(a,i)}}}function bl(r){let e=r[55].name+"",t;return{c(){t=Y(e)},l(l){t=G(l,e)},m(l,a){P(l,t,a)},p(l,a){a[0]&262144&&e!==(e=l[55].name+"")&&R(t,e)},d(l){l&&m(t)}}}function wl(r){let e="",t;return{c(){t=Y(e)},l(l){t=G(l,e)},m(l,a){P(l,t,a)},p:ue,d(l){l&&m(t)}}}function kl(r){let e="",t;return{c(){t=Y(e)},l(l){t=G(l,e)},m(l,a){P(l,t,a)},p:ue,d(l){l&&m(t)}}}function yl(r){let e,t,l,a;function n(o,f){return f[0]&4456448&&(t=null),f[0]&4456448&&(l=null),t==null&&(t=!!(o[22].cost<1&&o[52].model.tags.some(Ml))),t?kl:(l==null&&(l=!!(o[22].cost>1&&o[22].is_user_subscription_valid==!0&&o[52].model.tags.some($l))),l?wl:bl)}let s=n(r,[-1,-1]),i=s(r);return{c(){e=M("div"),i.c(),a=U(),this.h()},l(o){e=$(o,"DIV",{class:!0});var f=O(e);i.l(f),f.forEach(m),a=H(o),this.h()},h(){h(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(o,f){P(o,e,f),i.m(e,null),P(o,a,f)},p(o,f){s===(s=n(o,f))&&i?i.p(o,f):(i.d(1),i=s(o),i&&(i.c(),i.m(e,null)))},d(o){o&&(m(e),m(a)),i.d()}}}function it(r){let e,t;return e=new he({props:{content:r[55].name,className:"flex-shrink-0",$$slots:{default:[yl]},$$scope:{ctx:r}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){X(e,l,a),t=!0},p(l,a){const n={};a[0]&262144&&(n.content=l[55].name),a[0]&4456448|a[1]&8192&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ft(r){let e,t,l;return t=new Ht({}),{c(){e=M("div"),K(t.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0});var n=O(e);Q(t.$$.fragment,n),n.forEach(m),this.h()},h(){h(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(a,n){P(a,e,n),X(t,e,null),l=!0},i(a){l||(z(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&m(e),x(t)}}}function ut(r){var T,Z,ce,ee,Ve,_e,ke,ye,Ce;let e,t,l,a,n,s,i,o,f,u,b,C,w,_,k,y,g,D,V,v,S=r[21]&&(((Z=(T=r[52])==null?void 0:T.model)==null?void 0:Z.tags)??[]).length>0&&rt(r);o=new he({props:{content:((ce=r[23])==null?void 0:ce.role)==="admin"?((ee=r[52])==null?void 0:ee.value)??"":"",placement:"top-start",$$slots:{default:[ml]},$$scope:{ctx:r}}});const B=[_l,hl],q=[];function I(J,W){var le;return(le=J[52].model)!=null&&le.direct?0:J[52].model.owned_by==="openai"?1:-1}~(u=I(r))&&(b=q[u]=B[u](r));let N=((ke=(_e=(Ve=r[52].model)==null?void 0:Ve.info)==null?void 0:_e.meta)==null?void 0:ke.description)&&ot(r),c=!r[21]&&(((Ce=(ye=r[52])==null?void 0:ye.model)==null?void 0:Ce.tags)??[]).length>0&&st(r),p=r[0]===r[52].value&&ft();function j(){return r[38](r[52],r[54])}return{c(){e=M("button"),t=M("div"),S&&S.c(),l=U(),a=M("div"),n=M("div"),s=M("div"),i=M("div"),K(o.$$.fragment),f=U(),b&&b.c(),C=U(),N&&N.c(),w=U(),c&&c.c(),_=U(),p&&p.c(),this.h()},l(J){e=$(J,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var W=O(e);t=$(W,"DIV",{class:!0});var le=O(t);S&&S.l(le),l=H(le),a=$(le,"DIV",{class:!0});var te=O(a);n=$(te,"DIV",{class:!0});var pe=O(n);s=$(pe,"DIV",{class:!0});var ge=O(s);i=$(ge,"DIV",{class:!0});var ve=O(i);Q(o.$$.fragment,ve),ve.forEach(m),ge.forEach(m),pe.forEach(m),f=H(te),b&&b.l(te),C=H(te),N&&N.l(te),w=H(te),c&&c.l(te),te.forEach(m),le.forEach(m),_=H(W),p&&p.l(W),W.forEach(m),this.h()},h(){h(i,"class","flex items-center min-w-fit"),h(s,"class","line-clamp-1"),h(n,"class","flex items-center min-w-fit"),h(a,"class","flex items-center gap-2"),h(t,"class","flex flex-col"),h(e,"aria-label","model-item"),h(e,"class",k="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(r[54]===r[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),h(e,"data-arrow-selected",y=r[54]===r[17]),h(e,"data-value",g=r[52].value)},m(J,W){P(J,e,W),E(e,t),S&&S.m(t,null),E(t,l),E(t,a),E(a,n),E(n,s),E(s,i),X(o,i,null),E(a,f),~u&&q[u].m(a,null),E(a,C),N&&N.m(a,null),E(a,w),c&&c.m(a,null),E(e,_),p&&p.m(e,null),D=!0,V||(v=ne(e,"click",j),V=!0)},p(J,W){var pe,ge,ve,Ie,Te,Me,$e,Ne,ze;r=J,r[21]&&(((ge=(pe=r[52])==null?void 0:pe.model)==null?void 0:ge.tags)??[]).length>0?S?S.p(r,W):(S=rt(r),S.c(),S.m(t,l)):S&&(S.d(1),S=null);const le={};W[0]&8650752&&(le.content=((ve=r[23])==null?void 0:ve.role)==="admin"?((Ie=r[52])==null?void 0:Ie.value)??"":""),W[0]&262144|W[1]&8192&&(le.$$scope={dirty:W,ctx:r}),o.$set(le);let te=u;u=I(r),u!==te&&(b&&(oe(),A(q[te],1,1,()=>{q[te]=null}),se()),~u?(b=q[u],b||(b=q[u]=B[u](r),b.c()),z(b,1),b.m(a,C)):b=null),($e=(Me=(Te=r[52].model)==null?void 0:Te.info)==null?void 0:Me.meta)!=null&&$e.description?N?(N.p(r,W),W[0]&262144&&z(N,1)):(N=ot(r),N.c(),z(N,1),N.m(a,w)):N&&(oe(),A(N,1,1,()=>{N=null}),se()),!r[21]&&(((ze=(Ne=r[52])==null?void 0:Ne.model)==null?void 0:ze.tags)??[]).length>0?c?(c.p(r,W),W[0]&2359296&&z(c,1)):(c=st(r),c.c(),z(c,1),c.m(a,null)):c&&(oe(),A(c,1,1,()=>{c=null}),se()),r[0]===r[52].value?p?W[0]&262145&&z(p,1):(p=ft(),p.c(),z(p,1),p.m(e,null)):p&&(oe(),A(p,1,1,()=>{p=null}),se()),(!D||W[0]&131072&&k!==(k="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(r[54]===r[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&h(e,"class",k),(!D||W[0]&131072&&y!==(y=r[54]===r[17]))&&h(e,"data-arrow-selected",y),(!D||W[0]&262144&&g!==(g=r[52].value))&&h(e,"data-value",g)},i(J){D||(z(o.$$.fragment,J),z(b),z(N),z(c),z(p),D=!0)},o(J){A(o.$$.fragment,J),A(b),A(N),A(c),A(p),D=!1},d(J){J&&m(e),S&&S.d(),x(o),~u&&q[u].d(),N&&N.d(),c&&c.d(),p&&p.d(),V=!1,v()}}}function ct(r){let e,t;return e=new he({props:{content:r[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[9]}),placement:"top-start",$$slots:{default:[El]},$$scope:{ctx:r}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){X(e,l,a),t=!0},p(l,a){const n={};a[0]&1049088&&(n.content=l[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[9]})),a[0]&1049088|a[1]&8192&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function El(r){let e,t,l=r[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[9]})+"",a,n,s;return{c(){e=M("button"),t=M("div"),a=Y(l),this.h()},l(i){e=$(i,"BUTTON",{class:!0});var o=O(e);t=$(o,"DIV",{class:!0});var f=O(t);a=G(f,l),f.forEach(m),o.forEach(m),this.h()},h(){h(t,"class","truncate"),h(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(i,o){P(i,e,o),E(e,t),E(t,a),n||(s=ne(e,"click",r[39]),n=!0)},p(i,o){o[0]&1049088&&l!==(l=i[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:i[9]})+"")&&R(a,l)},d(i){i&&m(e),n=!1,s()}}}function dt(r){let e,t=r[19][r[49]].digest+"",l;return{c(){e=M("div"),l=Y(t),this.h()},l(a){e=$(a,"DIV",{class:!0});var n=O(e);l=G(n,t),n.forEach(m),this.h()},h(){h(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(a,n){P(a,e,n),E(e,l)},p(a,n){n[0]&524288&&t!==(t=a[19][a[49]].digest+"")&&R(l,t)},d(a){a&&m(e)}}}function Dl(r){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function n(){return r[40](r[49])}return{c(){e=M("button"),e.innerHTML=t,this.h()},l(s){e=$(s,"BUTTON",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){h(e,"class","text-gray-800 dark:text-gray-100")},m(s,i){P(s,e,i),l||(a=ne(e,"click",n),l=!0)},p(s,i){r=s},d(s){s&&m(e),l=!1,a()}}}function mt(r){let e,t,l,a=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,n,s,i,o,f,u=r[49]+"",b,C,w,_,k="pullProgress"in r[19][r[49]]?`(${r[19][r[49]].pullProgress}%)`:"",y,g,D,V,v,S,B,q="digest"in r[19][r[49]]&&r[19][r[49]].digest&&dt(r);return v=new he({props:{content:r[20].t("Cancel"),$$slots:{default:[Dl]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("div"),l=M("div"),l.innerHTML=a,n=U(),s=M("div"),i=M("div"),o=M("div"),f=Y('Downloading "'),b=Y(u),C=Y('"'),w=U(),_=M("div"),y=Y(k),g=U(),q&&q.c(),D=U(),V=M("div"),K(v.$$.fragment),S=U(),this.h()},l(I){e=$(I,"DIV",{class:!0});var N=O(e);t=$(N,"DIV",{class:!0});var c=O(t);l=$(c,"DIV",{class:!0,"data-svelte-h":!0}),De(l)!=="svelte-102rp4j"&&(l.innerHTML=a),n=H(c),s=$(c,"DIV",{class:!0});var p=O(s);i=$(p,"DIV",{class:!0});var j=O(i);o=$(j,"DIV",{class:!0});var T=O(o);f=G(T,'Downloading "'),b=G(T,u),C=G(T,'"'),T.forEach(m),w=H(j),_=$(j,"DIV",{class:!0});var Z=O(_);y=G(Z,k),Z.forEach(m),j.forEach(m),g=H(p),q&&q.l(p),p.forEach(m),c.forEach(m),D=H(N),V=$(N,"DIV",{class:!0});var ce=O(V);Q(v.$$.fragment,ce),ce.forEach(m),S=H(N),N.forEach(m),this.h()},h(){h(l,"class","-ml-2 mr-2.5 translate-y-0.5"),h(o,"class","line-clamp-1"),h(_,"class","shrink-0"),h(i,"class","flex gap-1"),h(s,"class","flex flex-col self-start"),h(t,"class","flex"),h(V,"class","mr-2 ml-1 translate-y-0.5"),h(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(I,N){P(I,e,N),E(e,t),E(t,l),E(t,n),E(t,s),E(s,i),E(i,o),E(o,f),E(o,b),E(o,C),E(i,w),E(i,_),E(_,y),E(s,g),q&&q.m(s,null),E(e,D),E(e,V),X(v,V,null),E(e,S),B=!0},p(I,N){(!B||N[0]&524288)&&u!==(u=I[49]+"")&&R(b,u),(!B||N[0]&524288)&&k!==(k="pullProgress"in I[19][I[49]]?`(${I[19][I[49]].pullProgress}%)`:"")&&R(y,k),"digest"in I[19][I[49]]&&I[19][I[49]].digest?q?q.p(I,N):(q=dt(I),q.c(),q.m(s,null)):q&&(q.d(1),q=null);const c={};N[0]&1048576&&(c.content=I[20].t("Cancel")),N[0]&524288|N[1]&8192&&(c.$$scope={dirty:N,ctx:I}),v.$set(c)},i(I){B||(z(v.$$.fragment,I),B=!0)},o(I){A(v.$$.fragment,I),B=!1},d(I){I&&m(e),q&&q.d(),x(v)}}}function ht(r){let e,t,l,a,n,s,i,o=r[20].t("Temporary Chat")+"",f,u,b,C,w,_,k;return s=new nl({props:{className:"size-4",strokeWidth:"2.5"}}),C=new tl({props:{state:r[24]}}),{c(){e=M("hr"),t=U(),l=M("div"),a=M("button"),n=M("div"),K(s.$$.fragment),i=U(),f=Y(o),u=U(),b=M("div"),K(C.$$.fragment),this.h()},l(y){e=$(y,"HR",{class:!0}),t=H(y),l=$(y,"DIV",{class:!0});var g=O(l);a=$(g,"BUTTON",{class:!0});var D=O(a);n=$(D,"DIV",{class:!0});var V=O(n);Q(s.$$.fragment,V),i=H(V),f=G(V,o),V.forEach(m),u=H(D),b=$(D,"DIV",{});var v=O(b);Q(C.$$.fragment,v),v.forEach(m),D.forEach(m),g.forEach(m),this.h()},h(){h(e,"class","border-gray-100 dark:border-gray-800"),h(n,"class","flex gap-2.5 items-center"),h(a,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),h(l,"class","flex items-center mx-2 my-2")},m(y,g){P(y,e,g),P(y,t,g),P(y,l,g),E(l,a),E(a,n),X(s,n,null),E(n,i),E(n,f),E(a,u),E(a,b),X(C,b,null),w=!0,_||(k=ne(a,"click",r[41]),_=!0)},p(y,g){(!w||g[0]&1048576)&&o!==(o=y[20].t("Temporary Chat")+"")&&R(f,o);const D={};g[0]&16777216&&(D.state=y[24]),C.$set(D)},i(y){w||(z(s.$$.fragment,y),z(C.$$.fragment,y),w=!0)},o(y){A(s.$$.fragment,y),A(C.$$.fragment,y),w=!1},d(y){y&&(m(e),m(t),m(l)),x(s),x(C),_=!1,k()}}}function Vl(r){var N;let e,t,l=r[14]&&r[6].filter(_t).length>0,a,n,s=!(r[9].trim()in r[19])&&r[9]&&r[16]&&((N=r[23])==null?void 0:N.role)==="admin",i,o,f,u,b,C,w,_=r[3]&&Qe(r),k=l&&Xe(r),y=ie(r[18].filter(bt)),g=[];for(let c=0;c<y.length;c+=1)g[c]=ut(Ge(r,y,c));const D=c=>A(g[c],1,1,()=>{g[c]=null});let V=null;y.length||(V=lt(r));let v=s&&ct(r),S=ie(Object.keys(r[19])),B=[];for(let c=0;c<S.length;c+=1)B[c]=mt(Ye(r,S,c));const q=c=>A(B[c],1,1,()=>{B[c]=null});let I=r[5]&&ht(r);return{c(){_&&_.c(),e=U(),t=M("div"),k&&k.c(),a=U();for(let c=0;c<g.length;c+=1)g[c].c();V&&V.c(),n=U(),v&&v.c(),i=U();for(let c=0;c<B.length;c+=1)B[c].c();o=U(),I&&I.c(),f=U(),u=M("div"),b=U(),C=M("div"),this.h()},l(c){_&&_.l(c),e=H(c),t=$(c,"DIV",{class:!0});var p=O(t);k&&k.l(p),a=H(p);for(let j=0;j<g.length;j+=1)g[j].l(p);V&&V.l(p),n=H(p),v&&v.l(p),i=H(p);for(let j=0;j<B.length;j+=1)B[j].l(p);p.forEach(m),o=H(c),I&&I.l(c),f=H(c),u=$(c,"DIV",{class:!0}),O(u).forEach(m),b=H(c),C=$(c,"DIV",{class:!0}),O(C).forEach(m),this.h()},h(){h(t,"class","px-3 mb-2 max-h-64 overflow-y-auto scrollbar-hidden group relative"),h(u,"class","hidden w-[42rem]"),h(C,"class","hidden w-[32rem]")},m(c,p){_&&_.m(c,p),P(c,e,p),P(c,t,p),k&&k.m(t,null),E(t,a);for(let j=0;j<g.length;j+=1)g[j]&&g[j].m(t,null);V&&V.m(t,null),E(t,n),v&&v.m(t,null),E(t,i);for(let j=0;j<B.length;j+=1)B[j]&&B[j].m(t,null);P(c,o,p),I&&I.m(c,p),P(c,f,p),P(c,u,p),P(c,b,p),P(c,C,p),w=!0},p(c,p){var j;if(c[3]?_?(_.p(c,p),p[0]&8&&z(_,1)):(_=Qe(c),_.c(),z(_,1),_.m(e.parentNode,e)):_&&(oe(),A(_,1,1,()=>{_=null}),se()),p[0]&16448&&(l=c[14]&&c[6].filter(_t).length>0),l?k?k.p(c,p):(k=Xe(c),k.c(),k.m(t,a)):k&&(k.d(1),k=null),p[0]&16130049){y=ie(c[18].filter(bt));let T;for(T=0;T<y.length;T+=1){const Z=Ge(c,y,T);g[T]?(g[T].p(Z,p),z(g[T],1)):(g[T]=ut(Z),g[T].c(),z(g[T],1),g[T].m(t,n))}for(oe(),T=y.length;T<g.length;T+=1)D(T);se(),!y.length&&V?V.p(c,p):y.length?V&&(V.d(1),V=null):(V=lt(c),V.c(),V.m(t,n))}if(p[0]&8978944&&(s=!(c[9].trim()in c[19])&&c[9]&&c[16]&&((j=c[23])==null?void 0:j.role)==="admin"),s?v?(v.p(c,p),p[0]&8978944&&z(v,1)):(v=ct(c),v.c(),z(v,1),v.m(t,i)):v&&(oe(),A(v,1,1,()=>{v=null}),se()),p[0]&270008320){S=ie(Object.keys(c[19]));let T;for(T=0;T<S.length;T+=1){const Z=Ye(c,S,T);B[T]?(B[T].p(Z,p),z(B[T],1)):(B[T]=mt(Z),B[T].c(),z(B[T],1),B[T].m(t,null))}for(oe(),T=S.length;T<B.length;T+=1)q(T);se()}c[5]?I?(I.p(c,p),p[0]&32&&z(I,1)):(I=ht(c),I.c(),z(I,1),I.m(f.parentNode,f)):I&&(oe(),A(I,1,1,()=>{I=null}),se())},i(c){if(!w){z(_);for(let p=0;p<y.length;p+=1)z(g[p]);z(v);for(let p=0;p<S.length;p+=1)z(B[p]);z(I),w=!0}},o(c){A(_),g=g.filter(Boolean);for(let p=0;p<g.length;p+=1)A(g[p]);A(v),B=B.filter(Boolean);for(let p=0;p<B.length;p+=1)A(B[p]);A(I),w=!1},d(c){c&&(m(e),m(t),m(o),m(f),m(u),m(b),m(C)),_&&_.d(c),k&&k.d(),Ee(g,c),V&&V.d(),v&&v.d(),Ee(B,c),I&&I.d(c)}}}function Cl(r){let e;const t=r[29].default,l=$t(t,r,r[44],null),a=l||Vl(r);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,s){a&&a.m(n,s),e=!0},p(n,s){l?l.p&&(!e||s[1]&8192)&&Nt(l,t,n,n[44],e?Pt(t,n[44],s,null):zt(n[44]),null):a&&a.p&&(!e||s[0]&33521273)&&a.p(n,e?s:[-1,-1])},i(n){e||(z(a,n),e=!0)},o(n){A(a,n),e=!1},d(n){a&&a.d(n)}}}function Il(r){let e,t,l,a;return e=new Bt({props:{class:"relative w-full font-primary","aria-label":r[2],id:"model-selector-"+r[1]+"-button",$$slots:{default:[il]},$$scope:{ctx:r}}}),l=new At({props:{class:" z-40 "+(r[21]?"w-full":`${r[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Lt,side:r[21]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[Cl]},$$scope:{ctx:r}}}),{c(){K(e.$$.fragment),t=U(),K(l.$$.fragment)},l(n){Q(e.$$.fragment,n),t=H(n),Q(l.$$.fragment,n)},m(n,s){X(e,n,s),P(n,t,s),X(l,n,s),a=!0},p(n,s){const i={};s[0]&4&&(i["aria-label"]=n[2]),s[0]&2&&(i.id="model-selector-"+n[1]+"-button"),s[0]&33028|s[1]&8192&&(i.$$scope={dirty:s,ctx:n}),e.$set(i);const o={};s[0]&2097280&&(o.class=" z-40 "+(n[21]?"w-full":`${n[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),s[0]&2097152&&(o.side=n[21]?"bottom":"bottom-start"),s[0]&33521273|s[1]&8192&&(o.$$scope={dirty:s,ctx:n}),l.$set(o)},i(n){a||(z(e.$$.fragment,n),z(l.$$.fragment,n),a=!0)},o(n){A(e.$$.fragment,n),A(l.$$.fragment,n),a=!1},d(n){n&&m(t),x(e,n),x(l,n)}}}function Tl(r){let e,t,l;function a(s){r[43](s)}let n={onOpenChange:r[42],closeFocus:!1,$$slots:{default:[Il]},$$scope:{ctx:r}};return r[13]!==void 0&&(n.open=r[13]),e=new St({props:n}),Et.push(()=>Ot(e,"open",a)),{c(){K(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){X(e,s,i),l=!0},p(s,i){const o={};i[0]&512&&(o.onOpenChange=s[42]),i[0]&33554431|i[1]&8192&&(o.$$scope={dirty:i,ctx:s}),!t&&i[0]&8192&&(t=!0,o.open=s[13],Ct(()=>t=!1)),e.$set(o)},i(s){l||(z(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){x(e,s)}}}const Ml=r=>r.name==="Upgrade to Plus Plan",$l=r=>r.name==="Upgrade to Plus Plan",Nl=r=>r.name==="Upgrade to Plus Plan",zl=r=>r.name==="Upgrade to Plus Plan",_t=r=>{var e,t,l;return!(((l=(t=(e=r.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},pt=r=>{var e;return(e=r.model)==null?void 0:e.direct},gt=r=>{var e;return((e=r.model)==null?void 0:e.owned_by)==="ollama"},vt=r=>{var e;return((e=r.model)==null?void 0:e.owned_by)==="openai"},Pl=r=>{r.deltaY!==0&&(r.preventDefault(),r.currentTarget.scrollLeft+=r.deltaY)},bt=r=>{var e,t,l;return!(((l=(t=(e=r.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},wt=(r,e)=>r.name.localeCompare(e.name),kt=(r,e)=>r.name.localeCompare(e.name);function Ol(r,e,t){let l,a,n,s,i,o,f,u,b;de(r,we,d=>t(19,a=d)),de(r,Yt,d=>t(45,s=d)),de(r,Gt,d=>t(46,i=d)),de(r,Rt,d=>t(21,o=d)),de(r,Jt,d=>t(22,f=d)),de(r,Kt,d=>t(23,u=d)),de(r,We,d=>t(24,b=d));let{$$slots:C={},$$scope:w}=e;const _=It("i18n");de(r,_,d=>t(20,n=d)),Tt();let{id:k=""}=e,{value:y=""}=e,{placeholder:g="Select a model"}=e,{searchEnabled:D=!0}=e,{searchPlaceholder:V=n.t("Search a model")}=e,{showTemporaryChatControl:v=!1}=e,{items:S=[]}=e,{className:B="w-[32rem]"}=e,{triggerClassName:q="text-lg"}=e,I,N=!1,c=[],p="",j="",T="",Z="",ce=null,ee=0;const Ve=new jt(S.map(d=>{var F,re,be,fe,Pe;return{...d,modelName:(F=d.model)==null?void 0:F.name,tags:(((re=d.model)==null?void 0:re.tags)??[]).map(Oe=>Oe.name).join(" "),desc:(Pe=(fe=(be=d.model)==null?void 0:be.info)==null?void 0:fe.meta)==null?void 0:Pe.description}}),{keys:["value","tags","modelName"],threshold:.4}),_e=async()=>{await Ue();const d=l.findIndex(F=>F.value===y);d>=0?t(17,ee=d):t(17,ee=0),await Ue();const L=document.querySelector('[data-arrow-selected="true"]');L==null||L.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},ke=async()=>{var re;const d=j.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(a[d]){me.error(n.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:d}));return}if(Object.keys(a).length===3){me.error(n.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[L,F]=await Wt(localStorage.token,d,"0").catch(be=>(me.error(`${be}`),null));if(L){const be=L.body.pipeThrough(new TextDecoderStream).pipeThrough(xt(`
`)).getReader();for(we.set({...a,[d]:{...a[d],abortController:F,reader:be,done:!1}});;)try{const{value:fe,done:Pe}=await be.read();if(Pe)break;let Oe=fe.split(`
`);for(const Ae of Oe)if(Ae!==""){let ae=JSON.parse(Ae);if(console.log(ae),ae.error)throw ae.error;if(ae.detail)throw ae.detail;if(ae.status)if(ae.digest){let Se=0;ae.completed?Se=Math.round(ae.completed/ae.total*1e3)/10:Se=100,we.set({...a,[d]:{...a[d],pullProgress:Se,digest:ae.digest}})}else me.success(ae.status),we.set({...a,[d]:{...a[d],done:ae.status==="success"}})}}catch(fe){typeof fe!="string"&&(fe=fe.message),me.error(`${fe}`);break}a[d].done?(me.success(n.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:d})),Qt.set(await el(localStorage.token,((re=i==null?void 0:i.features)==null?void 0:re.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))):me.error(n.t("Download canceled")),delete a[d],we.set({...a})}};Mt(async()=>{t(16,ce=await Zt(localStorage.token).catch(d=>!1)),S&&(t(14,c=S.flatMap(d=>{var L;return((L=d.model)==null?void 0:L.tags)??[]}).map(d=>d.name)),t(14,c=Array.from(new Set(c)).sort((d,L)=>d.localeCompare(L))))});const ye=async d=>{const{reader:L,abortController:F}=a[d];F&&F.abort(),L&&(await L.cancel(),delete a[d],we.set({...a}),await Ft(localStorage.token,d),me.success(`${d} download has been canceled`))};function Ce(){j=this.value,t(9,j)}const J=d=>{if(d.code==="Enter"&&l.length>0){t(0,y=l[ee].value),t(13,N=!1);return}else d.code==="ArrowDown"?t(17,ee=Math.min(ee+1,l.length-1)):d.code==="ArrowUp"?t(17,ee=Math.max(ee-1,0)):t(17,ee=0);const L=document.querySelector('[data-arrow-selected="true"]');L==null||L.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},W=()=>{t(11,Z=""),t(10,T="")},le=()=>{t(10,T=""),t(11,Z="ollama")},te=()=>{t(10,T=""),t(11,Z="openai")},pe=()=>{t(10,T=""),t(11,Z="direct")},ge=d=>{t(11,Z=""),t(10,T=d)};function ve(d){Et[d?"unshift":"push"](()=>{I=d,t(12,I)})}const Ie=(d,L)=>{const F=d.model.tags.some(re=>re.name==="Upgrade to Plus Plan");f.cost<1&&F||f.cost>1&&f.is_user_subscription_valid==!0&&F?(t(0,y=d.value),t(17,ee=L),t(13,N=!1)):f.cost>1&&f.is_user_subscription_valid==!1&&F?(Xt.set(!0),t(13,N=!1)):(t(0,y=d.value),t(17,ee=L),t(13,N=!1))},Te=()=>{ke()},Me=d=>{ye(d)},$e=async()=>{We.set(!b),await ll("/");const d=document.getElementById("new-chat-button");setTimeout(()=>{d==null||d.click()},0),b?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(13,N=!1)},Ne=async()=>{t(9,j=""),window.setTimeout(()=>{var d;return(d=document.getElementById("model-search-input"))==null?void 0:d.focus()},0),_e()};function ze(d){N=d,t(13,N)}return r.$$set=d=>{"id"in d&&t(1,k=d.id),"value"in d&&t(0,y=d.value),"placeholder"in d&&t(2,g=d.placeholder),"searchEnabled"in d&&t(3,D=d.searchEnabled),"searchPlaceholder"in d&&t(4,V=d.searchPlaceholder),"showTemporaryChatControl"in d&&t(5,v=d.showTemporaryChatControl),"items"in d&&t(6,S=d.items),"className"in d&&t(7,B=d.className),"triggerClassName"in d&&t(8,q=d.triggerClassName),"$$scope"in d&&t(44,w=d.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&65&&t(15,p=S.find(d=>d.value===y)??""),r.$$.dirty[0]&3648&&t(18,l=j?Ve.search(j).map(d=>d.item).filter(d=>{var L;return T===""?!0:(((L=d.model)==null?void 0:L.tags)??[]).map(F=>F.name).includes(T)}).filter(d=>{var L,F,re;if(Z==="")return!0;if(Z==="ollama")return((L=d.model)==null?void 0:L.owned_by)==="ollama";if(Z==="openai")return((F=d.model)==null?void 0:F.owned_by)==="openai";if(Z==="direct")return(re=d.model)==null?void 0:re.direct}):S.filter(d=>{var L;return T===""?!0:(((L=d.model)==null?void 0:L.tags)??[]).map(F=>F.name).includes(T)}).filter(d=>{var L,F,re;if(Z==="")return!0;if(Z==="ollama")return((L=d.model)==null?void 0:L.owned_by)==="ollama";if(Z==="openai")return((F=d.model)==null?void 0:F.owned_by)==="openai";if(Z==="direct")return(re=d.model)==null?void 0:re.direct})),r.$$.dirty[0]&3072&&_e()},[y,k,g,D,V,v,S,B,q,j,T,Z,I,N,c,p,ce,ee,l,a,n,o,f,u,b,_,_e,ke,ye,C,Ce,J,W,le,te,pe,ge,ve,Ie,Te,Me,$e,Ne,ze,w]}class er extends Dt{constructor(e){super(),Vt(this,e,Ol,Tl,yt,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8},null,[-1,-1])}}export{er as S};
//# sourceMappingURL=C2m0lMUR.js.map
