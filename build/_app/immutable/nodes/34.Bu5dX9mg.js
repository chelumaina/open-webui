import{s as y,l as d,i as v,d as f,j as g,p as N,q as O,e as h,c as k,a as E,f as $,g as q,n as B}from"../chunks/vexCXLX9.js";import{S as T,i as U,a as _,c as C,t as p,g as D,b as I,d as S,m as w,e as R}from"../chunks/Cdll-xsj.js";import{g as P}from"../chunks/WDSA219a.js";import{p as W}from"../chunks/B9-t4RFp.js";import{a as j,u as Q,g as A}from"../chunks/y-skfeOV.js";import{S as F}from"../chunks/Cmi_MrK3.js";import{T as H}from"../chunks/5NM1HtLp.js";import{b,h as M}from"../chunks/DzLIgThl.js";import{e as X,c as z}from"../chunks/hvQ-lebT.js";import{t as m}from"../chunks/DMk2eJ1b.js";function G(i){let o,t,e,s;return e=new F({}),{c(){o=h("div"),t=h("div"),I(e.$$.fragment),this.h()},l(r){o=k(r,"DIV",{class:!0});var a=E(o);t=k(a,"DIV",{class:!0});var u=E(t);S(e.$$.fragment,u),u.forEach(f),a.forEach(f),this.h()},h(){$(t,"class","pb-16"),$(o,"class","flex items-center justify-center h-full")},m(r,a){v(r,o,a),q(o,t),w(e,t,null),s=!0},p:B,i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){_(e.$$.fragment,r),s=!1},d(r){r&&f(o),R(e)}}}function J(i){let o,t;return o=new H({props:{edit:!0,id:i[0].id,name:i[0].name,meta:i[0].meta,content:i[0].content,accessControl:i[0].access_control,onSave:i[3]}}),{c(){I(o.$$.fragment)},l(e){S(o.$$.fragment,e)},m(e,s){w(o,e,s),t=!0},p(e,s){const r={};s&1&&(r.id=e[0].id),s&1&&(r.name=e[0].name),s&1&&(r.meta=e[0].meta),s&1&&(r.content=e[0].content),s&1&&(r.accessControl=e[0].access_control),o.$set(r)},i(e){t||(p(o.$$.fragment,e),t=!0)},o(e){_(o.$$.fragment,e),t=!1},d(e){R(o,e)}}}function K(i){let o,t,e,s;const r=[J,G],a=[];function u(c,n){return c[0]?0:1}return o=u(i),t=a[o]=r[o](i),{c(){t.c(),e=d()},l(c){t.l(c),e=d()},m(c,n){a[o].m(c,n),v(c,e,n),s=!0},p(c,[n]){let l=o;o=u(c),o===l?a[o].p(c,n):(D(),_(a[l],1,1,()=>{a[l]=null}),C(),t=a[o],t?t.p(c,n):(t=a[o]=r[o](c),t.c()),p(t,1),t.m(e.parentNode,e))},i(c){s||(p(t),s=!0)},o(c){_(t),s=!1},d(c){c&&f(e),a[o].d(c)}}}function L(i,o,t){let e,s;g(i,W,n=>t(4,e=n));const r=N("i18n");g(i,r,n=>t(5,s=n));let a=null;const u=async n=>{console.log(n);const l=X(n.content);if(z((l==null?void 0:l.required_open_webui_version)??"0.0.0",b)){console.log("Version is lower than required"),m.error(s.t("BiXAI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:b,REQUIRED_VERSION:(l==null?void 0:l.required_open_webui_version)??"0.0.0"}));return}await Q(localStorage.token,a.id,{id:n.id,name:n.name,meta:n.meta,content:n.content,access_control:n.access_control}).catch(V=>(m.error(`${V}`),null))&&(m.success(s.t("Tool updated successfully")),M.set(await A(localStorage.token)))};return O(async()=>{console.log("mounted");const n=e.url.searchParams.get("id");n&&(t(0,a=await j(localStorage.token,n).catch(l=>(m.error(`${l}`),P("/workspace/tools"),null))),console.log(a))}),[a,r,u,n=>{u(n)}]}class ie extends T{constructor(o){super(),U(this,o,L,K,y,{})}}export{ie as component};
//# sourceMappingURL=34.Bu5dX9mg.js.map
